<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <title>HR Management System</title>

    <style>
        /* ====== GLOBAL ====== */
        body {
            font-family: "Segoe UI", Arial, sans-serif;
            background: linear-gradient(135deg,#e6f2ff,#f5faff);
            margin: 0;
            padding: 0;
        }

        /* ====== HEADER ====== */
        header {
            background: #3399ff;
            color: white;
            padding: 25px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0,0,0,0.15);
        }

            header h1 {
                margin: 0;
                font-size: 28px;
                letter-spacing: 1px;
            }

        /* ====== NAV ====== */
        nav {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 25px 0;
        }

            nav button {
                padding: 12px 25px;
                border: none;
                border-radius: 30px;
                background: #007acc;
                color: white;
                font-weight: bold;
                cursor: pointer;
                transition: .3s;
            }

                nav button:hover {
                    background: #005fa3;
                    transform: scale(1.05);
                }

        /* ====== SECTIONS ====== */
        section {
            display: none;
            max-width: 1200px;
            margin: auto;
            padding: 20px;
        }

            section.active {
                display: block;
            }

        /* ====== CARD ====== */
        .card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        /* ====== TEXT ====== */
        h2 {
            color: #004d99;
            margin-bottom: 20px;
        }

        /* ====== FORM ====== */
        label {
            display: block;
            margin: 12px 0 5px;
            font-weight: 600;
            color: #333;
        }

            /* ⭐ ULDZUZ – TAM SİLİNDİ */
            label::before {
                content: "";
            }

        input, select {
            width: 100%;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #ccc;
            font-size: 14px;
        }

            input:focus, select:focus {
                outline: none;
                border-color: #3399ff;
                box-shadow: 0 0 5px rgba(51,153,255,.4);
            }

        /* ====== BUTTON ====== */
        button {
            margin-top: 15px;
            padding: 12px;
            width: 100%;
            border: none;
            border-radius: 10px;
            background: #3399ff;
            color: white;
            font-weight: bold;
            font-size: 15px;
            cursor: pointer;
            transition: .3s;
        }

            button:hover {
                background: #1a8cff;
            }

        /* ====== TABLE ====== */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        th, td {
            padding: 10px;
            border-bottom: 1px solid #ddd;
            text-align: left;
        }

        th {
            background: #cce6ff;
            color: #003366;
        }

        tr:hover {
            background: #f2f8ff;
        }
    </style>
</head>

<body>

    <header>
        <h1>National Aviation Academy | HR Management System</h1>
    </header>

    <nav>
        <button onclick="showSection('deptSection')">Department əlavə et</button>
        <button onclick="showSection('empSection')">İşçi əlavə et</button>
        <button onclick="showSection('listSection')">Siyahını göstər</button>
    </nav>

    <main>

        <!-- DEPARTMENT -->
        <section id="deptSection" class="active">
            <div class="card">
                <h2>Departament əlavə et</h2>

                <label>Departament adı</label>
                <input id="deptName">

                <label>Worker Limit</label>
                <input type="number" id="workerLimit">

                <label>Salary Limit</label>
                <input type="number" id="salaryLimit">

                <button onclick="addDepartment()">Əlavə et</button>
            </div>
        </section>

        <!-- EMPLOYEE -->
        <section id="empSection">
            <div class="card">
                <h2>İşçi əlavə et</h2>

                <label>Ad və Soyad</label>
                <input id="empFullname">

                <label>Vəzifə</label>
                <input id="empPosition">

                <label>Maaş</label>
                <input type="number" id="empSalary">

                <label>Departament</label>
                <select id="empDept">
                    <option value="">Seçin...</option>
                </select>

                <label>Email</label>
                <input type="email" id="empEmail">

                <label>Telefon</label>
                <input id="empPhone">

                <label>Doğum tarixi</label>
                <input type="date" id="empBirthday">

                <label>Təhsil</label>
                <select id="empEducation">
                    <option value="Orta">Orta</option>
                    <option value="Ali">Ali</option>
                </select>

                <div id="higherEducationFields" style="display:none;">
                    <label>Universitet</label>
                    <select id="universityName">
                        <option value="Azərbaycan Dövlət İqtisad Universiteti">Azərbaycan Dövlət İqtisad Universiteti</option>
                        <option value="Azərbaycan Respublikası Prezidenti yanında Dövlət İdarəçilik Akademiyası">Azərbaycan Respublikası Prezidenti yanında Dövlət İdarəçilik Akademiyası</option>
                        <option value="Azərbaycan Dövlət Dəniz Akademiyası">Azərbaycan Dövlət Dəniz Akademiyası</option>
                        <option value="Azərbaycan Texniki Universiteti">Azərbaycan Texniki Universiteti</option>
                        <option value="Azərbaycan Dövlət Neft və Sənaye Universiteti">Azərbaycan Dövlət Neft və Sənaye Universiteti</option>
                        <option value="ADA Universiteti">ADA Universiteti</option>
                        <option value="Bakı Ali Neft Məktəbi">Bakı Ali Neft Məktəbi</option>
                        <option value="Bakı Dövlət Universiteti">Bakı Dövlət Universiteti</option>
                        <option value="Bakı Mühəndislik Üniversiteti">Bakı Mühəndislik Üniversiteti</option>
                        <option value="Qafqaz Universiteti">Qafqaz Universiteti</option>
                        <option value="Azərbaycan Memarlıq və İnşaat Universiteti">Azərbaycan Memarlıq və İnşaat Universiteti</option>
                        <option value="Naxçıvan Dövlət Universiteti">Naxçıvan Dövlət Universiteti</option>
                        <option value="Sumqayıt Dövlət Universiteti">Sumqayıt Dövlət Universiteti</option>
                        <option value="Gəncə Dövlət Universiteti">Gəncə Dövlət Universiteti</option>
                        <option value="Lənkəran Dövlət Universiteti">Lənkəran Dövlət Universiteti</option>
                        <option value="Milli Aviasiya Akademiyası">Milli Aviasiya Akademiyası</option>
                        <option value="Digər">Digər</option>
                    </select>

                    <div id="otherUniDiv" style="display:none;">
                        <label>Universitet adı</label>
                        <input id="otherUniversity">
                    </div>

                    <label>Fakültə</label>
                    <input id="faculty">

                    <label>İxtisas</label>
                    <input id="specialty">

                    <label>Başlama ili</label>
                    <input type="date" id="eduStart">

                    <label>Bitirmə ili</label>
                    <input type="date" id="eduEnd">
                </div>

                <!-- CV -->
                <label>CV yüklə</label>
                <input type="file" accept=".pdf,.doc,.docx">

                <!-- ID -->
                <label>Şəxsiyyət vəsiqəsi (ön)</label>
                <input type="file" accept="image/*">

                <label>Şəxsiyyət vəsiqəsi (arxa)</label>
                <input type="file" accept="image/*">

                <label>Sertifikat</label>
                <select id="empCert">
                    <option value="false">Xeyr</option>
                    <option value="true">Bəli</option>
                </select>

                <div id="certArea" style="display:none;">
                    <div id="certList"></div>
                    <button type="button" onclick="addCertificate()">+ Sertifikat əlavə et</button>
                </div>

                <button onclick="addEmployee()">Əlavə et</button>
            </div>
        </section>

        <!-- LIST -->
        <section id="listSection">
            <div class="card">
                <h2>Siyahı</h2>

                <table id="employeeTable">
                    <thead>
                        <tr>
                            <th>No</th>
                            <th>Ad</th>
                            <th>Vəzifə</th>
                            <th>Maaş</th>
                            <th>Departament</th>
                            <th>Email</th>
                            <th>Telefon</th>
                            <th>Təhsil</th>
                            <th>Sertifikat</th>
                            <th>Sertifikat Bitis</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </section>

    </main>

    <script>
        let departments = [], employees = [], counter = 1000;

        function showSection(id) {
            document.querySelectorAll("section").forEach(s => s.classList.remove("active"));
            document.getElementById(id).classList.add("active");
        }

        function addDepartment() {
            departments.push({ name: deptName.value });
            empDept.innerHTML = '<option value="">Seçin...</option>';
            departments.forEach(d => {
                let o = document.createElement("option");
                o.value = o.textContent = d.name;
                empDept.appendChild(o);
            });
            deptName.value = "";
            workerLimit.value = "";
            salaryLimit.value = "";
        }

        empEducation.onchange = () => higherEducationFields.style.display =
            empEducation.value === "Ali" ? "block" : "none";

        universityName.onchange = () => otherUniDiv.style.display =
            universityName.value === "Digər" ? "block" : "none";

        empCert.onchange = () => certArea.style.display =
            empCert.value === "true" ? "block" : "none";

        function addCertificate() {
            let div = document.createElement("div");
            div.className = "cert-box";
            div.innerHTML = `
     <select class="cert-name">
       <option>IELTS</option>
       <option>TOEFL</option>
       <option>Cambridge</option>
       <option>Microsoft</option>
       <option>AWS</option>
     </select>
     <input type="date" class="cert-date">
     <button type="button" onclick="this.parentElement.remove()">🗑️</button>
     `;
            certList.appendChild(div);
        }

        function addEmployee() {
            counter++;

            // Sertifikatları oxuyuruq
            let certNames = [];
            let certDates = [];
            document.querySelectorAll(".cert-box").forEach(box => {
                let name = box.querySelector(".cert-name").value;
                let date = box.querySelector(".cert-date").value;
                certNames.push(name);
                certDates.push(date);
            });

            employees.push({
                no: "MA" + counter,
                name: empFullname.value,
                pos: empPosition.value,
                salary: empSalary.value,
                dept: empDept.value,
                email: empEmail.value,
                phone: empPhone.value,
                edu: empEducation.value,
                certNames: certNames,
                certDates: certDates
            });

            render();

            // Formu təmizləyirik
            document.querySelectorAll("input").forEach(i => { if (i.type !== "file") i.value = ""; });
            document.querySelectorAll("select").forEach(s => s.selectedIndex = 0);
            certList.innerHTML = "";
            certArea.style.display = "none";
            higherEducationFields.style.display = "none";
        }

        function render() {
            let tb = document.querySelector("#employeeTable tbody");
            tb.innerHTML = "";
            let today = new Date();

            employees.forEach(e => {
                // Sertifikat adları
                let certNameText = e.certNames.length ? e.certNames.join(", ") : "-";

                // Sertifikat tarixləri, qırmızı ilə vurğulamaq üçün
                let certDateText = "-";
                let certDateHTML = "-";
                if (e.certDates.length) {
                    certDateHTML = e.certDates.map(d => {
                        let end = new Date(d);
                        let diff = (end - today) / (1000 * 60 * 60 * 24);
                        if (diff <= 15) {
                            return `<span style="color:red;font-weight:bold">${d}</span>`;
                        }
                        return d;
                    }).join(", ");
                }

                tb.innerHTML += `
            <tr>
                <td>${e.no}</td>
                <td>${e.name}</td>
                <td>${e.pos}</td>
                <td>${e.salary}</td>
                <td>${e.dept}</td>
                <td>${e.email}</td>
                <td>${e.phone}</td>
                <td>${e.edu}</td>
                <td>${certNameText}</td>
                <td>${certDateHTML}</td>
            </tr>`;
            });
        }


    </script>


</body>
</html>
